# .env
# Archivo único de configuración - funciona en local Y producción

# ===== MODO =====
# Cambia esta variable según donde estés:
# - false = Desarrollo local (usa PostgreSQL de Windows)
# - true  = Producción (usa PostgreSQL en Docker)
USE_DOCKER_DB=false

# ===== DJANGO =====
DEBUG=True
SECRET_KEY='django-insecure-y@ydq(6zvj*=r5)j7yv(r($jw%@@1b!f-413%-!rcr&xf0pmv^'
ALLOWED_HOSTS=localhost,127.0.0.1
ENVIRONMENT=development

# ===== POSTGRESQL =====
POSTGRES_DB=wearable
POSTGRES_USER=postgres
POSTGRES_PASSWORD='Dio$ama135'

# ⚠️ CHANGE THIS LINE:
# For Docker containers to connect to Windows PostgreSQL:
POSTGRES_HOST=host.docker.internal  # ← Changed from localhost!
POSTGRES_PORT=5432

# ===== SENDGRID =====
SENDGRID_API_KEY='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'
DEFAULT_FROM_EMAIL=lidering.esteban@gmail.com

# ===== SENTRY =====
SENTRY_DSN='https://78e7cdd3ce4c211b87b3a1dc9a969a0b@o4510297326026752.ingest.us.sentry.io/4510297349095424'

# ===== CELERY =====
# Para desarrollo LOCAL (py manage.py runserver): usar localhost
# Para Docker: cambiar a redis://redis:6379/0
CELERY_BROKER_URL=redis://localhost:6379/0
CELERY_RESULT_BACKEND=django-db

# ===== INSTRUCCIONES =====
# 
# PARA DESARROLLO LOCAL (PostgreSQL en Windows):
# 1. USE_DOCKER_DB=false
# 2. POSTGRES_HOST=host.docker.internal  ← IMPORTANTE!
# 3. CELERY_BROKER_URL=redis://redis:6379/0  ← IMPORTANTE!
# 4. Ejecutar: docker-compose up -d
#
# PARA PRODUCCIÓN (PostgreSQL en Docker):
# 1. USE_DOCKER_DB=true
# 2. POSTGRES_HOST=db
# 3. Cambiar POSTGRES_PASSWORD a algo más seguro
# 4. Ejecutar: docker-compose up -d